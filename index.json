[{"categories":["webrtc"],"content":"webrtc实时获取媒体流的统计信息，包括网络信息、音/视频编解码等信息。","date":"2021-02-01","objectID":"/blog/posts/webrtc/getstats/","tags":["webrtc","getStats"],"title":"Webrtc实时统计信息","uri":"/blog/posts/webrtc/getstats/"},{"categories":["webrtc"],"content":"安装 npm i getstats ","date":"2021-02-01","objectID":"/blog/posts/webrtc/getstats/:0:1","tags":["webrtc","getStats"],"title":"Webrtc实时统计信息","uri":"/blog/posts/webrtc/getstats/"},{"categories":["webrtc"],"content":"使用 let conn = activeCall.getRTCPeerConnection(); var repeatInterval = 2000; // 2000 ms == 2 seconds getStats(conn, result=\u003e { //local code result.audio.send.codecs.concat(result.video.send.codecs).join(', ') //remote code result.audio.recv.codecs.concat(result.video.recv.codecs).join(', ') //local resolutions result.resolutions.send.width + 'x' + result.resolutions.send.height //audio latency result.audio.latency + 'ms' //video latency result.video.latency + 'ms' //audio packetsLost result.audio.packetsLost //video packetsLost result.video.packetsLost //send data bytesToSize(result.audio.bytesSent + result.video.bytesSent) //recv data bytesToSize(result.audio.bytesReceived + result.video.bytesReceived) //bandwidth speed bytesToSize(result.bandwidth.speed) + 'per second' console.log('#') }, repeatInterval); ","date":"2021-02-01","objectID":"/blog/posts/webrtc/getstats/:0:2","tags":["webrtc","getStats"],"title":"Webrtc实时统计信息","uri":"/blog/posts/webrtc/getstats/"},{"categories":["webrtc"],"content":"字节单位转换 bytesToSize(bytes) { var k = 1000; var sizes = ['Bytes', 'KB', 'MB', 'GB', 'TB']; if (bytes \u003c= 0) { return '0 Bytes'; } var i = parseInt(Math.floor(Math.log(bytes) / Math.log(k)), 10); if(!sizes[i]) { return '0 Bytes'; } return (bytes / Math.pow(k, i)).toPrecision(3) + ' ' + sizes[i]; }, ","date":"2021-02-01","objectID":"/blog/posts/webrtc/getstats/:0:3","tags":["webrtc","getStats"],"title":"Webrtc实时统计信息","uri":"/blog/posts/webrtc/getstats/"},{"categories":["Nginx"],"content":"nginx反向代理java工程，https代理","date":"2020-11-23","objectID":"/blog/posts/nginx/java/","tags":["Nginx"],"title":"Nginx代理java项目","uri":"/blog/posts/nginx/java/"},{"categories":["Nginx"],"content":"server { listen 443; server_name videoapi.chinarui.cn; location / { index index.html index.htm index.php; index proxy_set_header Host $host; index proxy_set_header X-Real-IP $remote_addr; index proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for; proxy_pass http://127.0.0.1:15001/; #后端服务器，具体配置upstream部分即可 } ssl on; ssl_certificate /etc/nginx/ssl/video.crt; ssl_certificate_key /etc/nginx/ssl/video.key; } ","date":"2020-11-23","objectID":"/blog/posts/nginx/java/:0:0","tags":["Nginx"],"title":"Nginx代理java项目","uri":"/blog/posts/nginx/java/"},{"categories":["Nginx"],"content":"nginx反向代理vue工程，https代理","date":"2020-11-23","objectID":"/blog/posts/nginx/vue/","tags":["Nginx"],"title":"Nginx代理vue项目","uri":"/blog/posts/nginx/vue/"},{"categories":["Nginx"],"content":"server { listen 80;#默认端口是80，如果端口没被占用可以不用修改 server_name admin.chinarui.cn; root /home/chinarui-admin; location / { try_files $uri $uri/ @router;#需要指向下面的@router否则会出现vue的路由在nginx中刷新出现404 index index.html index.htm; } location /conf{ index index.html index.htm index.php; index proxy_set_header Host $host; index proxy_set_header X-Real-IP $remote_addr; index proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for; proxy_pass http://127.0.0.1:8128/conf/; } #对应上面的@router，主要原因是路由的路径资源并不是一个真实的路径，所以无法找到具体的文件 #因此需要rewrite到index.html中，然后交给路由在处理请求资源 location @router { rewrite ^.*$ /index.html last; } } ","date":"2020-11-23","objectID":"/blog/posts/nginx/vue/:0:0","tags":["Nginx"],"title":"Nginx代理vue项目","uri":"/blog/posts/nginx/vue/"},{"categories":["Hugo"],"content":"mac系统安装hugo，生成站点、创建页面、安装主题、运行。","date":"2020-11-23","objectID":"/blog/posts/hugo/","tags":["Hugo"],"title":"Hugo mac安装运行","uri":"/blog/posts/hugo/"},{"categories":["Hugo"],"content":"mac安装 brew install hugo ","date":"2020-11-23","objectID":"/blog/posts/hugo/:0:1","tags":["Hugo"],"title":"Hugo mac安装运行","uri":"/blog/posts/hugo/"},{"categories":["Hugo"],"content":"生成站点 hugo new site /path/to/site ","date":"2020-11-23","objectID":"/blog/posts/hugo/:0:2","tags":["Hugo"],"title":"Hugo mac安装运行","uri":"/blog/posts/hugo/"},{"categories":["Hugo"],"content":"创建页面 hugo new about.md ","date":"2020-11-23","objectID":"/blog/posts/hugo/:0:3","tags":["Hugo"],"title":"Hugo mac安装运行","uri":"/blog/posts/hugo/"},{"categories":["Hugo"],"content":"安装主题 cd themes git clone https://github.com/spf13/hyde.git ","date":"2020-11-23","objectID":"/blog/posts/hugo/:0:4","tags":["Hugo"],"title":"Hugo mac安装运行","uri":"/blog/posts/hugo/"},{"categories":["Hugo"],"content":"运行 hugo server --theme=hyde --buildDrafts or hugo server -D 访问 http://localhost:1313 ","date":"2020-11-23","objectID":"/blog/posts/hugo/:0:5","tags":["Hugo"],"title":"Hugo mac安装运行","uri":"/blog/posts/hugo/"}]